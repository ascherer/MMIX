From f39781c09e1e0c02bc6c991ac85abba013b47ad6 Mon Sep 17 00:00:00 2001
From: Andreas Scherer <andreas_github@freenet.de>
Date: Wed, 12 Apr 2023 12:06:58 +0200
Subject: [PATCH 103/103] Adjust Makefile to new header files.

---
 Makefile | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/Makefile b/Makefile
index f52ca3f..2df3698 100644
--- a/Makefile
+++ b/Makefile
@@ -74,13 +74,13 @@ clean:
 	rm -f *~ *.o *.c *.h *.tex *.log *.dvi *.toc *.idx *.scn *.ps core
 
 .SECONDEXPANSION:
-mmix-pipe.o mmix-sim.o: $$(subst .o,.c,$$@)
+mmix-pipe.o mmix-sim.o: $$(subst .o,.c,$$@) mmix-io.c
 	perl -pe "s/(#define ABSTIME)/\1 `date +%s`/" -i $<
 	$(CC) $(CFLAGS) -c $<
 
-mmix-config.o: mmix-pipe.o
+mmix-config.c mmix-io.c: mmix-pipe.c mmix-mem.c
 
-mmmix:  mmix-arith.o mmix-pipe.o mmix-config.o mmix-mem.o mmix-io.o mmmix.c
+mmmix:  mmix-arith.o mmix-config.o mmix-mem.o mmix-io.o mmix-pipe.o mmmix.c
 	$(CC) $(CFLAGS) $^ -o $@
 
 mmixal: mmix-arith.o mmixal.c
-- 
2.40.0

